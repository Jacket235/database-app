{"ast":null,"code":"import{useEffect,useState}from'react';import{useAuth}from\"../context/AuthContext\";import'./main.css';import ManageTimelineModal from'../components/ManageTimelineModal';import SettingsIcon from'@mui/icons-material/Settings';import getTimelineData from'../functions/getTimelineData';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Main(){const[showManageTimeLine,setShowManageTimeline]=useState(false);const{isLoggedIn,accessToken}=useAuth();const[events,setEvents]=useState([]);const[connections,setConnections]=useState([]);const[eventsPos,setEventsPos]=useState({});const[tempEvents,setTempEvents]=useState(events);const[highlightedEventChain,setHighlightedEventChain]=useState(new Set());function getConnectedEventChain(startId){let visited=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Set();if(visited.has(startId))return visited;visited.add(startId);const directlyConnected=connections.filter(conn=>conn.from_event_id===startId).map(conn=>conn.to_event_id);directlyConnected.forEach(id=>getConnectedEventChain(id,visited));return visited;}function calculatePositions(){const eventsElements=document.querySelectorAll(\".timeline .event\");const positions={};eventsElements.forEach((event,i)=>{const rect=event.getBoundingClientRect();const eventIdAttr=event.getAttribute(\"data-id\");if(!eventIdAttr)return;const eventId=parseInt(eventIdAttr);positions[eventId]={leftMiddle:{x:rect.left,y:(rect.top+rect.bottom)/2},rightMiddle:{x:rect.right,y:(rect.top+rect.bottom)/2}};});setEventsPos(positions);return()=>positions;}useEffect(()=>{const fetchTimelineData=async()=>{if(!accessToken)return;const result=await getTimelineData(accessToken);if(result){setEvents(result.events);setConnections(result.connections);}};fetchTimelineData();},[accessToken]);useEffect(()=>{window.addEventListener(\"resize\",calculatePositions);return()=>{window.removeEventListener(\"resize\",calculatePositions);};},[]);useEffect(()=>{calculatePositions();},[events]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"connection-lines\",children:[// Static connections\n...connections.filter(conn=>!highlightedEventChain.has(conn.from_event_id)).map((conn,i)=>{var _fromEvent$step_id,_toEvent$step_id;const from=eventsPos[conn.from_event_id];const to=eventsPos[conn.to_event_id];if(!from||!to)return null;const fromEvent=events.find(e=>e.id===conn.from_event_id);const toEvent=events.find(e=>e.id===conn.to_event_id);const fromStep=(_fromEvent$step_id=fromEvent===null||fromEvent===void 0?void 0:fromEvent.step_id)!==null&&_fromEvent$step_id!==void 0?_fromEvent$step_id:0;const toStep=(_toEvent$step_id=toEvent===null||toEvent===void 0?void 0:toEvent.step_id)!==null&&_toEvent$step_id!==void 0?_toEvent$step_id:0;const stepDiff=toStep-fromStep;const midX=(from.rightMiddle.x+to.leftMiddle.x)/2;const d=stepDiff===1?\"\\n                            M \".concat(from.rightMiddle.x,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(midX,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(midX,\" \").concat(to.leftMiddle.y,\"\\n                            L \").concat(to.leftMiddle.x,\" \").concat(to.leftMiddle.y,\"\\n                          \"):\"\\n                            M \".concat(from.rightMiddle.x,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(to.leftMiddle.x,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(to.leftMiddle.x,\" \").concat(to.leftMiddle.y,\"\\n                          \");return/*#__PURE__*/_jsx(\"path\",{d:d,stroke:\"black\",strokeWidth:\"2\",fill:\"none\"},\"static-\".concat(conn.from_event_id,\"-\").concat(conn.to_event_id));}),// Animated connections\n...connections.filter(conn=>highlightedEventChain.has(conn.from_event_id)).map((conn,i)=>{var _fromEvent$step_id2,_toEvent$step_id2;const from=eventsPos[conn.from_event_id];const to=eventsPos[conn.to_event_id];if(!from||!to)return null;const fromEvent=events.find(e=>e.id===conn.from_event_id);const toEvent=events.find(e=>e.id===conn.to_event_id);const fromStep=(_fromEvent$step_id2=fromEvent===null||fromEvent===void 0?void 0:fromEvent.step_id)!==null&&_fromEvent$step_id2!==void 0?_fromEvent$step_id2:0;const toStep=(_toEvent$step_id2=toEvent===null||toEvent===void 0?void 0:toEvent.step_id)!==null&&_toEvent$step_id2!==void 0?_toEvent$step_id2:0;const stepDiff=toStep-fromStep;const midX=(from.rightMiddle.x+to.leftMiddle.x)/2;const d=stepDiff===1?\"\\n                            M \".concat(from.rightMiddle.x,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(midX,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(midX,\" \").concat(to.leftMiddle.y,\"\\n                            L \").concat(to.leftMiddle.x,\" \").concat(to.leftMiddle.y,\"\\n                          \"):\"\\n                            M \".concat(from.rightMiddle.x,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(to.leftMiddle.x,\" \").concat(from.rightMiddle.y,\"\\n                            L \").concat(to.leftMiddle.x,\" \").concat(to.leftMiddle.y,\"\\n                          \");return/*#__PURE__*/_jsx(\"path\",{d:d,className:\"path-animated\",strokeWidth:\"2\",fill:\"none\"},\"animated-\".concat(conn.from_event_id,\"-\").concat(conn.to_event_id));})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 p-1\",children:isLoggedIn&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary\",onClick:()=>{setShowManageTimeline(true);setTempEvents(events);},children:[/*#__PURE__*/_jsx(SettingsIcon,{}),\" Manage timeline\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 p-1\",children:isLoggedIn&&events&&connections&&/*#__PURE__*/_jsx(\"div\",{className:\"timeline\",children:[0,1,2,3].map((step,stepIndex)=>/*#__PURE__*/_jsx(\"div\",{className:\"step\",children:events.filter(e=>e.step_id===stepIndex).sort((a,b)=>a.position-b.position).map(event=>/*#__PURE__*/_jsx(\"div\",{\"data-id\":event.id,className:\"event\",onClick:()=>{const chain=getConnectedEventChain(event.id);setHighlightedEventChain(prev=>prev.has(event.id)?new Set():chain);},children:event.name},event.id))},stepIndex))})})})]}),showManageTimeLine&&/*#__PURE__*/_jsx(ManageTimelineModal,{show:showManageTimeLine,onClose:()=>setShowManageTimeline(false),events:events,setEvents:setEvents,connections:connections,setConnections:setConnections})]});}","map":{"version":3,"names":["useEffect","useState","useAuth","ManageTimelineModal","SettingsIcon","getTimelineData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Main","showManageTimeLine","setShowManageTimeline","isLoggedIn","accessToken","events","setEvents","connections","setConnections","eventsPos","setEventsPos","tempEvents","setTempEvents","highlightedEventChain","setHighlightedEventChain","Set","getConnectedEventChain","startId","visited","arguments","length","undefined","has","add","directlyConnected","filter","conn","from_event_id","map","to_event_id","forEach","id","calculatePositions","eventsElements","document","querySelectorAll","positions","event","i","rect","getBoundingClientRect","eventIdAttr","getAttribute","eventId","parseInt","leftMiddle","x","left","y","top","bottom","rightMiddle","right","fetchTimelineData","result","window","addEventListener","removeEventListener","children","className","_fromEvent$step_id","_toEvent$step_id","from","to","fromEvent","find","e","toEvent","fromStep","step_id","toStep","stepDiff","midX","d","concat","stroke","strokeWidth","fill","_fromEvent$step_id2","_toEvent$step_id2","onClick","step","stepIndex","sort","a","b","position","chain","prev","name","show","onClose"],"sources":["X:/Other/Coding/React/database-app/frontend/src/layout/Main.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport './main.css';\r\nimport ManageTimelineModal from '../components/ManageTimelineModal';\r\n\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport getTimelineData from '../functions/getTimelineData';\r\n\r\ninterface Event {\r\n    id: number,         // Unique globally\r\n    name: string,\r\n    step_id: number,      // Which step it belongs to\r\n    position: number\r\n}\r\n\r\ninterface Connection {\r\n    from_event_id: number,       // Event ID from\r\n    to_event_id: number          // Event ID to\r\n}\r\n\r\nexport default function Main() {\r\n    const [showManageTimeLine, setShowManageTimeline] = useState(false);\r\n    const { isLoggedIn, accessToken } = useAuth();\r\n\r\n    const [events, setEvents] = useState<Event[]>([]);\r\n    const [connections, setConnections] = useState<Connection[]>([]);\r\n    const [eventsPos, setEventsPos] = useState<Record<number, {\r\n        leftMiddle: {\r\n            x: number,\r\n            y: number\r\n        },\r\n        rightMiddle: {\r\n            x: number,\r\n            y: number\r\n        }\r\n    }>>({});\r\n\r\n    const [tempEvents, setTempEvents] = useState(events);\r\n    const [highlightedEventChain, setHighlightedEventChain] = useState<Set<number>>(new Set());\r\n\r\n    function getConnectedEventChain(startId: number, visited = new Set<number>()): Set<number> {\r\n        if (visited.has(startId)) return visited;\r\n\r\n        visited.add(startId);\r\n\r\n        const directlyConnected = connections\r\n            .filter(conn => conn.from_event_id === startId)\r\n            .map(conn => conn.to_event_id);\r\n\r\n        directlyConnected.forEach(id => getConnectedEventChain(id, visited));\r\n\r\n        return visited;\r\n    }\r\n\r\n    function calculatePositions() {\r\n        const eventsElements = document.querySelectorAll(\".timeline .event\");\r\n\r\n        const positions: Record<number, { leftMiddle: { x: number; y: number }, rightMiddle: { x: number; y: number } }> = {};\r\n\r\n        eventsElements.forEach((event, i) => {\r\n            const rect = event.getBoundingClientRect();\r\n            const eventIdAttr = event.getAttribute(\"data-id\");\r\n            if (!eventIdAttr) return;\r\n\r\n            const eventId = parseInt(eventIdAttr);\r\n\r\n            positions[eventId] = {\r\n                leftMiddle: {\r\n                    x: rect.left,\r\n                    y: (rect.top + rect.bottom) / 2\r\n                },\r\n                rightMiddle: {\r\n                    x: rect.right,\r\n                    y: (rect.top + rect.bottom) / 2\r\n                }\r\n            };\r\n        });\r\n\r\n        setEventsPos(positions);\r\n\r\n        return () => positions\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchTimelineData = async () => {\r\n            if (!accessToken) return;\r\n\r\n            const result = await getTimelineData(accessToken);\r\n\r\n            if (result) {\r\n                setEvents(result.events);\r\n                setConnections(result.connections);\r\n            }\r\n        };\r\n\r\n        fetchTimelineData();\r\n    }, [accessToken])\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", calculatePositions);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"resize\", calculatePositions)\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        calculatePositions();\r\n    }, [events]);\r\n\r\n    return (\r\n        <>\r\n            <svg className=\"connection-lines\">\r\n                {[\r\n                    // Static connections\r\n                    ...connections.filter(conn => !highlightedEventChain.has(conn.from_event_id)).map((conn, i) => {\r\n                        const from = eventsPos[conn.from_event_id];\r\n                        const to = eventsPos[conn.to_event_id];\r\n                        if (!from || !to) return null;\r\n\r\n                        const fromEvent = events.find(e => e.id === conn.from_event_id);\r\n                        const toEvent = events.find(e => e.id === conn.to_event_id);\r\n                        const fromStep = fromEvent?.step_id ?? 0;\r\n                        const toStep = toEvent?.step_id ?? 0;\r\n                        const stepDiff = toStep - fromStep;\r\n\r\n                        const midX = (from.rightMiddle.x + to.leftMiddle.x) / 2;\r\n\r\n                        const d = stepDiff === 1\r\n                            ? `\r\n                            M ${from.rightMiddle.x} ${from.rightMiddle.y}\r\n                            L ${midX} ${from.rightMiddle.y}\r\n                            L ${midX} ${to.leftMiddle.y}\r\n                            L ${to.leftMiddle.x} ${to.leftMiddle.y}\r\n                          `\r\n                            : `\r\n                            M ${from.rightMiddle.x} ${from.rightMiddle.y}\r\n                            L ${to.leftMiddle.x} ${from.rightMiddle.y}\r\n                            L ${to.leftMiddle.x} ${to.leftMiddle.y}\r\n                          `;\r\n\r\n                        return (\r\n                            <path\r\n                                key={`static-${conn.from_event_id}-${conn.to_event_id}`}\r\n                                d={d}\r\n                                stroke=\"black\"\r\n                                strokeWidth=\"2\"\r\n                                fill=\"none\"\r\n                            />\r\n                        );\r\n                    }),\r\n\r\n                    // Animated connections\r\n                    ...connections.filter(conn => highlightedEventChain.has(conn.from_event_id)).map((conn, i) => {\r\n                        const from = eventsPos[conn.from_event_id];\r\n                        const to = eventsPos[conn.to_event_id];\r\n                        if (!from || !to) return null;\r\n\r\n                        const fromEvent = events.find(e => e.id === conn.from_event_id);\r\n                        const toEvent = events.find(e => e.id === conn.to_event_id);\r\n                        const fromStep = fromEvent?.step_id ?? 0;\r\n                        const toStep = toEvent?.step_id ?? 0;\r\n                        const stepDiff = toStep - fromStep;\r\n\r\n                        const midX = (from.rightMiddle.x + to.leftMiddle.x) / 2;\r\n\r\n                        const d = stepDiff === 1\r\n                            ? `\r\n                            M ${from.rightMiddle.x} ${from.rightMiddle.y}\r\n                            L ${midX} ${from.rightMiddle.y}\r\n                            L ${midX} ${to.leftMiddle.y}\r\n                            L ${to.leftMiddle.x} ${to.leftMiddle.y}\r\n                          `\r\n                            : `\r\n                            M ${from.rightMiddle.x} ${from.rightMiddle.y}\r\n                            L ${to.leftMiddle.x} ${from.rightMiddle.y}\r\n                            L ${to.leftMiddle.x} ${to.leftMiddle.y}\r\n                          `;\r\n\r\n                        return (\r\n                            <path\r\n                                key={`animated-${conn.from_event_id}-${conn.to_event_id}`}\r\n                                d={d}\r\n                                className=\"path-animated\"\r\n                                strokeWidth=\"2\"\r\n                                fill=\"none\"\r\n                            />\r\n                        );\r\n                    })\r\n                ]}\r\n            </svg>\r\n\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 p-1\">\r\n                        {isLoggedIn && (\r\n                            <button className=\"btn btn-primary\" onClick={() => {\r\n                                setShowManageTimeline(true);\r\n                                setTempEvents(events);\r\n                            }}>\r\n                                <SettingsIcon /> Manage timeline\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 p-1\">\r\n                        {isLoggedIn && events && connections && (\r\n                            <div className=\"timeline\">\r\n                                {[0, 1, 2, 3].map((step, stepIndex) => (\r\n                                    <div key={stepIndex} className=\"step\">\r\n                                        {events.filter(e => e.step_id === stepIndex).sort((a, b) => a.position - b.position).map(event => (\r\n                                            <div\r\n                                                key={event.id}\r\n                                                data-id={event.id}\r\n                                                className=\"event\"\r\n                                                onClick={() => {\r\n                                                    const chain = getConnectedEventChain(event.id);\r\n                                                    setHighlightedEventChain(prev => (\r\n                                                        prev.has(event.id) ? new Set() : chain\r\n                                                    ));\r\n                                                }}\r\n                                            >\r\n                                                {event.name}\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {showManageTimeLine && (\r\n                <ManageTimelineModal\r\n                    show={showManageTimeLine}\r\n                    onClose={() => setShowManageTimeline(false)}\r\n                    events={events}\r\n                    setEvents={setEvents}\r\n                    connections={connections}\r\n                    setConnections={setConnections}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}