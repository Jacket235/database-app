{"ast":null,"code":"var _jsxFileName = \"X:\\\\Other\\\\Coding\\\\React\\\\database-app\\\\frontend\\\\src\\\\components\\\\ManageTimelineModal.tsx\",\n  _s = $RefreshSig$();\n// import React from 'react';\n\n// import { useEffect, useState, SetStateAction, Dispatch } from 'react';\n\n// interface Event {\n//     id: number;\n//     name: string;\n//     step_id: number;\n//     position: number;\n// }\n\n// interface Props {\n//     show: boolean;\n//     onClose: () => void;\n//     events: Event[];\n//     setEvents: Dispatch<SetStateAction<Event[]>>;\n//     selectedStep: number | null;\n//     setSelectedStep: Dispatch<SetStateAction<number | null>>;\n// }\n\n// export default function ManageEventsModal({\n//     show,\n//     onClose,\n//     events,\n//     setEvents,\n//     selectedStep,\n//     setSelectedStep\n// }: Props) {\n//     const [tempEvents, setTempEvents] = useState(events);\n//     const [draggedEventId, setDraggedEventId] = useState<number | null>(null);\n\n//     useEffect(() => {\n//         if (show) setTempEvents(events);\n//     }, [show, events]);\n\n//     if (!show) return null;\n\n//     return (\n//         <div className=\"modal d-block\" tabIndex={-1} style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n//             <div className=\"modal-dialog\">\n//                 <div className=\"modal-content\">\n//                     <div className=\"modal-header\">\n//                         <h5 className=\"modal-title\">Manage your timeline</h5>\n//                         <button className=\"btn-close\" onClick={onClose}></button>\n//                     </div>\n//                     <div className=\"modal-body\">\n//                         <div className=\"mb-3 d-flex flex-column\">\n//                             <div className=\"form-floating\">\n//                                 <select className=\"form-select\" value={selectedStep ?? ''} onChange={(e) => setSelectedStep(Number(e.target.value))}>\n//                                     <option defaultValue=\"\">Step</option>\n//                                     {[0, 1, 2, 3].map(i => (\n//                                         <option key={i} value={i}>{i + 1}</option>\n//                                     ))}\n//                                 </select>\n//                                 <label>Select the step to modify</label>\n//                             </div>\n//                         </div>\n//                         <div className=\"mb-3 d-flex flex-column\">\n//                             {selectedStep !== null && tempEvents\n//                                 .filter(e => e.step_id === selectedStep)\n//                                 .sort((a, b) => a.position - b.position)\n//                                 .map(event => (\n//                                     <div\n//                                         key={event.id}\n//                                         className=\"border rounded p-1 my-1 d-flex justify-content-between align-items-center\"\n//                                         draggable\n//                                         style={{ cursor: \"move\" }}\n//                                         onDragStart={() => setDraggedEventId(event.id)}\n//                                         onDragOver={e => e.preventDefault()}\n//                                         onDrop={() => {\n//                                             if (draggedEventId === null || draggedEventId === event.id) return;\n\n//                                             const draggedIndex = tempEvents.findIndex(e => e.id === draggedEventId);\n//                                             const dropIndex = tempEvents.findIndex(e => e.id === event.id);\n//                                             const updated = [...tempEvents];\n//                                             const [movedItem] = updated.splice(draggedIndex, 1);\n//                                             updated.splice(dropIndex, 0, movedItem);\n\n//                                             const stepEvents = updated.filter(e => e.step_id === selectedStep);\n//                                             const otherEvents = updated.filter(e => e.step_id !== selectedStep);\n//                                             const reordered = stepEvents.map((e, i) => ({ ...e, position: i }));\n\n//                                             setTempEvents([...otherEvents, ...reordered]);\n//                                         }}\n//                                     >\n//                                         <span>{event.name}</span>\n//                                         <button\n//                                             className=\"btn btn-danger\"\n//                                             onClick={() => {\n//                                                 const updated = tempEvents.filter(e => e.id !== event.id);\n//                                                 const stepEvents = updated.filter(e => e.step_id === selectedStep);\n//                                                 const otherEvents = updated.filter(e => e.step_id !== selectedStep);\n//                                                 const reordered = stepEvents.map((e, i) => ({ ...e, position: i }));\n//                                                 setTempEvents([...otherEvents, ...reordered]);\n//                                             }}\n//                                         >\n//                                             Remove\n//                                         </button>\n//                                     </div>\n//                                 ))}\n//                         </div>\n//                         {selectedStep !== null && (\n//                             <div className=\"mb-1\">\n//                                 <button\n//                                     className=\"btn btn-success\"\n//                                     onClick={() => {\n//                                         const stepEvents = tempEvents.filter(e => e.step_id === selectedStep);\n//                                         const newEvent = {\n//                                             id: -Date.now(),\n//                                             name: \"New Event\",\n//                                             step_id: selectedStep,\n//                                             position: stepEvents.length\n//                                         };\n//                                         setTempEvents([...tempEvents, newEvent]);\n//                                     }}\n//                                 >\n//                                     Add event\n//                                 </button>\n//                             </div>\n//                         )}\n//                     </div>\n//                     <div className=\"modal-footer\">\n//                         <button\n//                             className=\"btn btn-primary\"\n//                             onClick={() => {\n//                                 setEvents(tempEvents);\n//                                 onClose();\n//                             }}>\n//                             Save\n//                         </button>\n//                         <button className=\"btn btn-danger\" onClick={onClose}>\n//                             Cancel\n//                         </button>\n//                     </div>\n//                 </div>\n//             </div>\n//         </div>\n//     );\n// }\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ManageTimelineModal({\n  show,\n  onClose,\n  events,\n  setEvents\n}) {\n  _s();\n  const [activeTab, setActiveTab] = useState(\"events\");\n  const [selectedStep, setSelectedStep] = useState(null);\n  const [tempEvents, setTempEvents] = useState(events);\n  const [draggedEventId, setDraggedEventId] = useState(null);\n  if (!show) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal d-block\",\n    tabIndex: -1,\n    style: {\n      backgroundColor: 'rgba(0,0,0,0.5)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-dialog\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"modal-title\",\n            children: \"Manage your timeline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn-close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"nav nav-tabs mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${activeTab === \"events\" ? \"active\" : \"\"}`,\n                onClick: () => setActiveTab(\"events\"),\n                children: \"Modify Events\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: `nav-link ${activeTab === \"connections\" ? \"active\" : \"\"}`,\n                onClick: () => setActiveTab(\"connections\"),\n                children: \"Modify Connections\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), activeTab === \"events\" && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-floating\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: selectedStep !== null && selectedStep !== void 0 ? selectedStep : -1,\n                onChange: e => setSelectedStep(Number(e.target.value)),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  defaultValue: \"\",\n                  children: \"Step\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 41\n                }, this), [0, 1, 2, 3].map(i => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: i,\n                  children: i + 1\n                }, i, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 45\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Select the step to modify\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 33\n            }, this), selectedStep !== null && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 d-flex flex-column\",\n              children: selectedStep !== null && tempEvents.filter(e => e.step_id === selectedStep).sort((a, b) => a.position - b.position).map(event => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded p-1 my-1 d-flex justify-content-between align-items-center\",\n                draggable: true,\n                style: {\n                  cursor: \"move\"\n                },\n                onDragStart: () => setDraggedEventId(event.id),\n                onDragOver: e => e.preventDefault(),\n                onDrop: () => {\n                  if (draggedEventId === null || draggedEventId === event.id) return;\n                  const draggedIndex = tempEvents.findIndex(e => e.id === draggedEventId);\n                  const dropIndex = tempEvents.findIndex(e => e.id === event.id);\n                  const updated = [...tempEvents];\n                  const [movedItem] = updated.splice(draggedIndex, 1);\n                  updated.splice(dropIndex, 0, movedItem);\n                  const stepEvents = updated.filter(e => e.step_id === selectedStep);\n                  const otherEvents = updated.filter(e => e.step_id !== selectedStep);\n                  const reordered = stepEvents.map((e, i) => ({\n                    ...e,\n                    position: i\n                  }));\n                  setTempEvents([...otherEvents, ...reordered]);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: event.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-danger\",\n                  onClick: () => {\n                    const updated = tempEvents.filter(e => e.id !== event.id);\n                    const stepEvents = updated.filter(e => e.step_id === selectedStep);\n                    const otherEvents = updated.filter(e => e.step_id !== selectedStep);\n                    const reordered = stepEvents.map((e, i) => ({\n                      ...e,\n                      position: i\n                    }));\n                    setTempEvents([...otherEvents, ...reordered]);\n                  },\n                  children: \"Remove\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 53\n                }, this)]\n              }, event.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 49\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true), activeTab === \"connections\" && /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-footer\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => {\n              setEvents(tempEvents);\n            },\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 9\n  }, this);\n}\n_s(ManageTimelineModal, \"bApPVmT+GoV8KgHZWG2cBV17R40=\");\n_c = ManageTimelineModal;\nvar _c;\n$RefreshReg$(_c, \"ManageTimelineModal\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","ManageTimelineModal","show","onClose","events","setEvents","_s","activeTab","setActiveTab","selectedStep","setSelectedStep","tempEvents","setTempEvents","draggedEventId","setDraggedEventId","className","tabIndex","style","backgroundColor","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","e","Number","target","defaultValue","map","i","filter","step_id","sort","a","b","position","event","draggable","cursor","onDragStart","id","onDragOver","preventDefault","onDrop","draggedIndex","findIndex","dropIndex","updated","movedItem","splice","stepEvents","otherEvents","reordered","name","_c","$RefreshReg$"],"sources":["X:/Other/Coding/React/database-app/frontend/src/components/ManageTimelineModal.tsx"],"sourcesContent":["// import React from 'react';\r\n\r\n// import { useEffect, useState, SetStateAction, Dispatch } from 'react';\r\n\r\n// interface Event {\r\n//     id: number;\r\n//     name: string;\r\n//     step_id: number;\r\n//     position: number;\r\n// }\r\n\r\n// interface Props {\r\n//     show: boolean;\r\n//     onClose: () => void;\r\n//     events: Event[];\r\n//     setEvents: Dispatch<SetStateAction<Event[]>>;\r\n//     selectedStep: number | null;\r\n//     setSelectedStep: Dispatch<SetStateAction<number | null>>;\r\n// }\r\n\r\n// export default function ManageEventsModal({\r\n//     show,\r\n//     onClose,\r\n//     events,\r\n//     setEvents,\r\n//     selectedStep,\r\n//     setSelectedStep\r\n// }: Props) {\r\n//     const [tempEvents, setTempEvents] = useState(events);\r\n//     const [draggedEventId, setDraggedEventId] = useState<number | null>(null);\r\n\r\n//     useEffect(() => {\r\n//         if (show) setTempEvents(events);\r\n//     }, [show, events]);\r\n\r\n//     if (!show) return null;\r\n\r\n//     return (\r\n//         <div className=\"modal d-block\" tabIndex={-1} style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n//             <div className=\"modal-dialog\">\r\n//                 <div className=\"modal-content\">\r\n//                     <div className=\"modal-header\">\r\n//                         <h5 className=\"modal-title\">Manage your timeline</h5>\r\n//                         <button className=\"btn-close\" onClick={onClose}></button>\r\n//                     </div>\r\n//                     <div className=\"modal-body\">\r\n//                         <div className=\"mb-3 d-flex flex-column\">\r\n//                             <div className=\"form-floating\">\r\n//                                 <select className=\"form-select\" value={selectedStep ?? ''} onChange={(e) => setSelectedStep(Number(e.target.value))}>\r\n//                                     <option defaultValue=\"\">Step</option>\r\n//                                     {[0, 1, 2, 3].map(i => (\r\n//                                         <option key={i} value={i}>{i + 1}</option>\r\n//                                     ))}\r\n//                                 </select>\r\n//                                 <label>Select the step to modify</label>\r\n//                             </div>\r\n//                         </div>\r\n//                         <div className=\"mb-3 d-flex flex-column\">\r\n//                             {selectedStep !== null && tempEvents\r\n//                                 .filter(e => e.step_id === selectedStep)\r\n//                                 .sort((a, b) => a.position - b.position)\r\n//                                 .map(event => (\r\n//                                     <div\r\n//                                         key={event.id}\r\n//                                         className=\"border rounded p-1 my-1 d-flex justify-content-between align-items-center\"\r\n//                                         draggable\r\n//                                         style={{ cursor: \"move\" }}\r\n//                                         onDragStart={() => setDraggedEventId(event.id)}\r\n//                                         onDragOver={e => e.preventDefault()}\r\n//                                         onDrop={() => {\r\n//                                             if (draggedEventId === null || draggedEventId === event.id) return;\r\n\r\n//                                             const draggedIndex = tempEvents.findIndex(e => e.id === draggedEventId);\r\n//                                             const dropIndex = tempEvents.findIndex(e => e.id === event.id);\r\n//                                             const updated = [...tempEvents];\r\n//                                             const [movedItem] = updated.splice(draggedIndex, 1);\r\n//                                             updated.splice(dropIndex, 0, movedItem);\r\n\r\n//                                             const stepEvents = updated.filter(e => e.step_id === selectedStep);\r\n//                                             const otherEvents = updated.filter(e => e.step_id !== selectedStep);\r\n//                                             const reordered = stepEvents.map((e, i) => ({ ...e, position: i }));\r\n\r\n//                                             setTempEvents([...otherEvents, ...reordered]);\r\n//                                         }}\r\n//                                     >\r\n//                                         <span>{event.name}</span>\r\n//                                         <button\r\n//                                             className=\"btn btn-danger\"\r\n//                                             onClick={() => {\r\n//                                                 const updated = tempEvents.filter(e => e.id !== event.id);\r\n//                                                 const stepEvents = updated.filter(e => e.step_id === selectedStep);\r\n//                                                 const otherEvents = updated.filter(e => e.step_id !== selectedStep);\r\n//                                                 const reordered = stepEvents.map((e, i) => ({ ...e, position: i }));\r\n//                                                 setTempEvents([...otherEvents, ...reordered]);\r\n//                                             }}\r\n//                                         >\r\n//                                             Remove\r\n//                                         </button>\r\n//                                     </div>\r\n//                                 ))}\r\n//                         </div>\r\n//                         {selectedStep !== null && (\r\n//                             <div className=\"mb-1\">\r\n//                                 <button\r\n//                                     className=\"btn btn-success\"\r\n//                                     onClick={() => {\r\n//                                         const stepEvents = tempEvents.filter(e => e.step_id === selectedStep);\r\n//                                         const newEvent = {\r\n//                                             id: -Date.now(),\r\n//                                             name: \"New Event\",\r\n//                                             step_id: selectedStep,\r\n//                                             position: stepEvents.length\r\n//                                         };\r\n//                                         setTempEvents([...tempEvents, newEvent]);\r\n//                                     }}\r\n//                                 >\r\n//                                     Add event\r\n//                                 </button>\r\n//                             </div>\r\n//                         )}\r\n//                     </div>\r\n//                     <div className=\"modal-footer\">\r\n//                         <button\r\n//                             className=\"btn btn-primary\"\r\n//                             onClick={() => {\r\n//                                 setEvents(tempEvents);\r\n//                                 onClose();\r\n//                             }}>\r\n//                             Save\r\n//                         </button>\r\n//                         <button className=\"btn btn-danger\" onClick={onClose}>\r\n//                             Cancel\r\n//                         </button>\r\n//                     </div>\r\n//                 </div>\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// }\r\nimport { SetStateAction, Dispatch, useState } from \"react\";\r\n\r\ninterface Event {\r\n    id: number;\r\n    name: string;\r\n    step_id: number;\r\n    position: number;\r\n}\r\n\r\ninterface Props {\r\n    show: boolean;\r\n    onClose: () => void;\r\n    events: Event[];\r\n    setEvents: Dispatch<SetStateAction<Event[]>>;\r\n}\r\n\r\nexport default function ManageTimelineModal({ show, onClose, events, setEvents }: Props) {\r\n    const [activeTab, setActiveTab] = useState<\"events\" | \"connections\">(\"events\");\r\n    const [selectedStep, setSelectedStep] = useState<number | null>(null);\r\n    const [tempEvents, setTempEvents] = useState(events);\r\n    const [draggedEventId, setDraggedEventId] = useState<number | null>(null);\r\n\r\n    if (!show) return null;\r\n\r\n    return (\r\n        <div className=\"modal d-block\" tabIndex={-1} style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\r\n            <div className=\"modal-dialog\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">Manage your timeline</h5>\r\n                        <button className=\"btn-close\"></button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <ul className=\"nav nav-tabs mb-3\">\r\n                            <li className=\"nav-item\">\r\n                                <button\r\n                                    className={`nav-link ${activeTab === \"events\" ? \"active\" : \"\"}`}\r\n                                    onClick={() => setActiveTab(\"events\")}\r\n                                >\r\n                                    Modify Events\r\n                                </button>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <button\r\n                                    className={`nav-link ${activeTab === \"connections\" ? \"active\" : \"\"}`}\r\n                                    onClick={() => setActiveTab(\"connections\")}\r\n                                >\r\n                                    Modify Connections\r\n                                </button>\r\n                            </li>\r\n                        </ul>\r\n\r\n                        {activeTab === \"events\" && (\r\n                            <>\r\n                                <div className=\"form-floating\">\r\n                                    <select className=\"form-select\" value={selectedStep ?? -1} onChange={(e) => setSelectedStep(Number(e.target.value))}>\r\n                                        <option defaultValue=\"\">Step</option>\r\n                                        {[0, 1, 2, 3].map(i => (\r\n                                            <option key={i} value={i}>{i + 1}</option>\r\n                                        ))}\r\n                                    </select>\r\n                                    <label>Select the step to modify</label>\r\n                                </div>\r\n                                {selectedStep !== null && (\r\n                                    <div className=\"mb-3 d-flex flex-column\">\r\n                                        {selectedStep !== null && tempEvents\r\n                                            .filter(e => e.step_id === selectedStep)\r\n                                            .sort((a, b) => a.position - b.position)\r\n                                            .map(event => (\r\n                                                <div\r\n                                                    key={event.id}\r\n                                                    className=\"border rounded p-1 my-1 d-flex justify-content-between align-items-center\"\r\n                                                    draggable\r\n                                                    style={{ cursor: \"move\" }}\r\n                                                    onDragStart={() => setDraggedEventId(event.id)}\r\n                                                    onDragOver={e => e.preventDefault()}\r\n                                                    onDrop={() => {\r\n                                                        if (draggedEventId === null || draggedEventId === event.id) return;\r\n\r\n                                                        const draggedIndex = tempEvents.findIndex(e => e.id === draggedEventId);\r\n                                                        const dropIndex = tempEvents.findIndex(e => e.id === event.id);\r\n                                                        const updated = [...tempEvents];\r\n                                                        const [movedItem] = updated.splice(draggedIndex, 1);\r\n                                                        updated.splice(dropIndex, 0, movedItem);\r\n\r\n                                                        const stepEvents = updated.filter(e => e.step_id === selectedStep);\r\n                                                        const otherEvents = updated.filter(e => e.step_id !== selectedStep);\r\n                                                        const reordered = stepEvents.map((e, i) => ({ ...e, position: i }));\r\n\r\n                                                        setTempEvents([...otherEvents, ...reordered]);\r\n                                                    }}\r\n                                                >\r\n                                                    <span>{event.name}</span>\r\n                                                    <button\r\n                                                        className=\"btn btn-danger\"\r\n                                                        onClick={() => {\r\n                                                            const updated = tempEvents.filter(e => e.id !== event.id);\r\n                                                            const stepEvents = updated.filter(e => e.step_id === selectedStep);\r\n                                                            const otherEvents = updated.filter(e => e.step_id !== selectedStep);\r\n                                                            const reordered = stepEvents.map((e, i) => ({ ...e, position: i }));\r\n                                                            setTempEvents([...otherEvents, ...reordered]);\r\n                                                        }}\r\n                                                    >\r\n                                                        Remove\r\n                                                    </button>\r\n                                                </div>\r\n                                            ))}\r\n                                    </div>\r\n                                )}\r\n                            </>\r\n                        )}\r\n                        {activeTab === \"connections\" && (\r\n                            <div>\r\n\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button\r\n                            className=\"btn btn-primary\" onClick={() => {\r\n                                setEvents(tempEvents);\r\n\r\n                            }\r\n                            }>\r\n                            Save\r\n                        </button>\r\n                        <button className=\"btn btn-danger\">\r\n                            Cancel\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"mappings":";;AAAA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAmCA,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAgB3D,eAAe,SAASC,mBAAmBA,CAAC;EAAEC,IAAI;EAAEC,OAAO;EAAEC,MAAM;EAAEC;AAAiB,CAAC,EAAE;EAAAC,EAAA;EACrF,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAA2B,QAAQ,CAAC;EAC9E,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAgB,IAAI,CAAC;EACrE,MAAM,CAACe,UAAU,EAAEC,aAAa,CAAC,GAAGhB,QAAQ,CAACQ,MAAM,CAAC;EACpD,MAAM,CAACS,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,QAAQ,CAAgB,IAAI,CAAC;EAEzE,IAAI,CAACM,IAAI,EAAE,OAAO,IAAI;EAEtB,oBACIJ,OAAA;IAAKiB,SAAS,EAAC,eAAe;IAACC,QAAQ,EAAE,CAAC,CAAE;IAA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}